### File name: settings.kv
#:import settings settings

<PlayerCount>
    PlayerRadioButton:
    RegularLabel:
        text: root.count_text

<PlayerSettings>:
    Regular80x30Label:
        text: root.label_text
    NameInput:
    BoxLayout:
        RegularLabel:
            text: ""
            size_hint_x: None
            width: 280
        DollarLabel:     
        NumInput:

### Начало окна
<SettingsScreen>:
    canvas:
        Color:
            rgba: 1, 1, .8, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        ### Настройки ###
        TitleLabel:
            text: "Настройки"
            font_size: 28

        ### Игрок ###
        BoxLayout:
            canvas:
                Color:
                    rgba: 1, 1, 1, .4
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: 'assets/all slugs.png'
                Color:
                    rgba: .2, .1, 0, 1
                Line:
                    rounded_rectangle: self.x, self.y, self.width, self.height, 10
                    width: 2
            orientation: 'vertical'
            padding: 10
            spacing: 10
            
            TitleLabel:
                text: "Колличество игроков"
                font_size: 20

            BoxLayout:
                size_hint: .4, None
                height: 50

                PlayerCount:
                    count_text: "1 Игрок"

                PlayerCount:
                    count_text: "2 Игрока"

                PlayerCount:
                    count_text: "3 Игрока"

                PlayerCount:
                    count_text: "4 Игрока"

            BoxLayout:
                orientation: 'vertical'

                BoxLayout:
                    RegularLabel:
                        text: ""
                        size_hint_x: None
                        width: dp(80)
                    
                    RegularLabel:
                        text: "Имя"
                        size_hint_x: None
                        width: dp(700)
                        
                    RegularLabel: 
                        text: "Начальный капитал"
                        
                # Первый игрок
                PlayerSettings:
                    label_text: "Игрок № 1"

                # Второй игрок
                PlayerSettings:
                    label_text: "Игрок № 2"
                            
                # Третий игрок
                PlayerSettings:
                    label_text: "Игрок № 3"
                            
                # Четвертый игрок
                PlayerSettings:
                    label_text: "Игрок № 1"          

        ### Условия окончания игры ###
        BoxLayout:
            canvas:
                Color:
                    rgba: .2, .1, 0, 1
                Line:
                    rounded_rectangle: self.x, self.y, self.width, self.height, 10
                    width: 2
            orientation: 'vertical'
            size_hint: 1, .4
            padding: 10
            spacing: 10

            TitleLabel:
                text: "Условия окончания игры"

            GridLayout:
                rows: 3

                ConditionRadioButton:
                RegularLabel:
                    text: "Игра заканчивается, когда деньги остаются у одного игрока"

                ConditionRadioButton:
                BoxLayout:
                    RegularLabel:
                        text: "Игра длиться указанное колличество гонок"              
                    NumInput:

                ConditionRadioButton:
                BoxLayout:
                    RegularLabel:
                        text: "Игра длиться указанное время"                   
                    NumInput:
                
        ### Готово (принять) ###
        RedButton:
            text: "Готово"
            on_press: 
                root.manager.current = 'racescreen'